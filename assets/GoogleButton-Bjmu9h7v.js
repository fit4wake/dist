import{r as e,j as t,B as a,n,H as s}from"./vendor-CLrGhTW1.js";import{u as r}from"./index-DTRzbtvd.js";import{b as o,cg as i,h as c}from"./main-C0pfxit8.js";const d=({botName:a,onAuth:n,size:s="large",requestAccess:r="write"})=>(e.useEffect((()=>{let e=document.getElementById("telegram-login-container");e||(e=document.createElement("div"),e.id="telegram-login-container",document.body.appendChild(e)),window.TelegramLoginWidget={dataOnauth:e=>{n(e)}};const t=document.createElement("script");return t.src="https://telegram.org/js/telegram-widget.js?22",t.setAttribute("data-telegram-login",a),t.setAttribute("data-size",s),t.setAttribute("data-request-access",r),t.setAttribute("data-onauth","window.TelegramLoginWidget.dataOnauth(user)"),t.async=!0,e.appendChild(t),()=>{e&&e.contains(t)&&e.removeChild(t)}}),[a,n,s,r]),t.jsx("div",{id:"telegram-login-container"})),l=({onSuccess:d,onError:l,text:g,size:m="large"})=>{const{t:u}=o(),[h,p]=e.useState(!1),j=r({onSuccess:async e=>{p(!0);try{let t=e.access_token;d&&d(t)}catch(t){const e=c(t);l&&l(e)}finally{p(!1)}},onError:e=>{const t=u("auth.googleLoginError");l&&l(t)},scope:"openid profile email"});return t.jsx(a,{children:t.jsx(n,{variant:"contained",color:"primary",size:m,startIcon:h?t.jsx(s,{size:20}):t.jsx(i,{}),onClick:()=>j(),disabled:h,children:g||u("auth.continueWithGoogle")})})};export{l as G,d as T};
