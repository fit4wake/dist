import{r as e,G as s,J as a,j as t,B as o,ae as i,af as n,b as l,as as r,x as d,n as x}from"./vendor-CAsuUi-l.js";import{w as c,a as h,b as m,L as u,aL as j,aM as p,aN as f,x as v,y as g,z as w,G as y,H as b,J as k,K as C,N as S,Q as D,V as I,X as z,Y as F,Z as N,a0 as R,a1 as T,a2 as A,a3 as B,a4 as V,a5 as G,a6 as Q,a7 as W,a8 as E,T as H,a9 as J,aa as L,ab as M,aO as O,ac as Y,ad as K,ae as P,af as U,ag as X,B as Z,I as _,t as q,aj as $,ak as ee,al as se}from"./main-IJaOmtUW.js";import{P as ae,A as te}from"./teacher-AFY1PGFB.js";const oe=()=>{const{mode:oe}=c(),ie=e.useRef(null),[ne,le]=e.useState(!0),[re,de]=e.useState(""),[xe,ce]=e.useState("live-preview"),{showErrorToast:he}=h(),[me,ue]=e.useState(!1),{t:je}=m(),pe=s(),fe=a(pe.breakpoints.down("md"));e.useEffect((()=>{(async()=>{try{const e=await fetch("https://teachair.app/docs/editor-guide.md");de(await e.text()||"")}catch(e){}finally{le(!1)}})()}),[]);function ve(){he("Sorry, it is a demo. You can't add images or audio.")}function ge(e=!1){return t.jsxs(t.Fragment,{children:[t.jsx(J,{options:["Bold","Italic"]}),t.jsx(L,{options:["bullet","number"]}),t.jsx(te,{}),t.jsx(M,{}),t.jsx(O,{}),t.jsx(Y,{editorRef:ie}),t.jsx(K,{editorRef:ie}),t.jsx(O,{}),t.jsx(P,{editorRef:ie}),t.jsx(U,{editorRef:ie}),t.jsx(O,{}),t.jsx(X,{editorRef:ie}),t.jsx(Z,{title:je("taskForm.image.actions.add"),children:t.jsx("span",{onClick:()=>ve(),children:t.jsx(_,{fontSize:"small"})})}),t.jsx(Z,{title:je("taskForm.image.actions.add"),children:t.jsx("span",{onClick:()=>ve(),children:t.jsx(q,{fontSize:"small"})})}),t.jsx($,{}),t.jsx(ee,{}),t.jsx(O,{}),t.jsx(se,{})]})}return ne?t.jsx(u,{}):t.jsxs(o,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:2,justifyContent:"center",alignItems:"center"},children:[t.jsx(i,{position:"static",color:"default",elevation:0,children:t.jsxs(n,{children:[t.jsx(l,{variant:"h4",component:"div",sx:{flexGrow:1},children:t.jsxs(r,{href:"https://teachair.app/",sx:{textDecoration:"none"},children:[" ",t.jsx(j,{fontSize:"small",sx:{verticalAlign:"sub"}})," Teachair"]})}),t.jsxs(o,{sx:{display:"flex",gap:2},children:[t.jsx(p,{variant:"compact"}),t.jsx(f,{variant:"compact"})]})]})}),t.jsxs(o,{sx:{display:"flex",gap:2,height:"100%",width:"100%",overflow:"hidden",justifyContent:"center",alignItems:"center"},children:[t.jsxs(o,{sx:{display:"flex",flex:"3 1",flexDirection:"column",width:"100%",maxWidth:"800px",height:"100%",position:"relative",overflow:"hidden",p:2},children:[t.jsx(d,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0,position:"relative",border:"1px solid",borderColor:"divider",overflow:"auto"},children:t.jsx(v,{ref:ie,markdown:re,autoFocus:!0,onChange:e=>{de(e)},className:"dark"===oe?"mdxeditor dark-theme dark-editor":"mdxeditor light-theme light-editor",translation:(e,s,a)=>je("editor."+e,{defaultValue:s,...a}),plugins:[g(),w(),y(),b({disableImageResize:!0,disableImageSettingsButton:!0}),k(),C(),S(),D(),I({viewMode:"rich-text"}),z({escapeUnknownTextDirectives:!0,directiveDescriptors:[R,T,A,B,V,G,Q]}),F(1e5),N({toolbarClassName:"mdxeditor-toolbar-full",toolbarContents:()=>t.jsx(W,{options:fe?[]:["source"],children:t.jsx(E,{options:[{when:e=>{var s,a;return"root"!==(null==(s=null==e?void 0:e.rootNode)?void 0:s.getType())&&void 0!==(null==(a=null==e?void 0:e.rootNode)?void 0:a.getType())},contents:()=>t.jsx(l,{children:je("taskForm.validation.textOnlyInComponent")})},{when:e=>{var s,a,t,o;return"root"===(null==(s=null==e?void 0:e.rootNode)?void 0:s.getType())&&void 0!==(null==(a=window.document)?void 0:a.getSelection())&&""!==(null==(o=null==(t=window.document)?void 0:t.getSelection())?void 0:o.toString())},contents:()=>ge(!0)},{fallback:()=>ge(!1)}]})})})]})}),t.jsx(o,{sx:{mt:2,display:{xs:"flex",lg:"none"},justifyContent:"center"},children:t.jsx(x,{variant:"outlined",color:"info",onClick:()=>ue(!0),children:je("taskForm.buttons.preview")})})]}),t.jsx(o,{sx:{display:{xs:"none",lg:xe?"flex":"none"},flex:"1",height:"100%",width:"auto",minWidth:"350px",maxWidth:"600px",overflow:"auto",p:2,flexDirection:"column",alignItems:"center"},children:"live-preview"===xe&&t.jsx(ae,{title:"Demo",text:re,tagIds:[],tags:[],teacherId:"Demo",onClose:()=>{he("Sorry, it is a demo")},onFullscreen:()=>ue(!0),onValidateAnswers:()=>{},hasQuizzes:!1})})]}),t.jsx(H,{open:me,onClose:()=>ue(!1),task:{id:"preview",title:"Demo",text:re,tags:[],teacher_id:"Demo"},hasQuizzes:!1,onValidateAnswers:()=>{}})]})};export{oe as default};
