import{r as e,j as t,B as a,o as s,N as n}from"./vendor-EJ2UFF3P.js";import{u as o}from"./index-BANHw3Kh.js";import{b as r,bt as i,g as c}from"./main-FAEQQtJ7.js";const d=({botName:a,onAuth:s,size:n="large",requestAccess:o="write"})=>(e.useEffect((()=>{let e=document.getElementById("telegram-login-container");e||(e=document.createElement("div"),e.id="telegram-login-container",document.body.appendChild(e)),window.TelegramLoginWidget={dataOnauth:e=>{s(e)}};const t=document.createElement("script");return t.src="https://telegram.org/js/telegram-widget.js?22",t.setAttribute("data-telegram-login",a),t.setAttribute("data-size",n),t.setAttribute("data-request-access",o),t.setAttribute("data-onauth","window.TelegramLoginWidget.dataOnauth(user)"),t.async=!0,e.appendChild(t),()=>{e&&e.contains(t)&&e.removeChild(t)}}),[a,s,n,o]),t.jsx("div",{id:"telegram-login-container"})),l=({onSuccess:d,onError:l,text:g,size:m="large"})=>{const{t:u}=r(),[h,p]=e.useState(!1),j=o({onSuccess:async e=>{p(!0);try{let t=e.access_token;d&&d(t)}catch(t){const e=c(t);l&&l(e)}finally{p(!1)}},onError:e=>{const t=u("auth.googleLoginError");l&&l(t)},scope:"openid profile email"});return t.jsx(a,{children:t.jsx(s,{variant:"contained",color:"primary",size:m,startIcon:h?t.jsx(n,{size:20}):t.jsx(i,{}),onClick:()=>j(),disabled:h,children:g||u("auth.continueWithGoogle")})})};export{l as G,d as T};
